{"ast":null,"code":"//Client\n\nimport { ResultValid, RegisterSettings } from \"../../importAll\";\n\n/* -for server\r\nimport {ResultValid,RegisterSettings,Database} from \"../../importAll\";\r\n*/\n\nexport default function RegisterValidation(obj) {\n  let valid = true;\n  let message = {\n    username: '',\n    password: '',\n    email: '',\n    firstName: '',\n    lastName: ''\n  };\n  if (!obj.username) {\n    message.username = \"שם משתמש חסר\";\n    valid = false;\n  }\n  if (!obj.password) {\n    message.password = \"סיסמה חסרה\";\n    valid = false;\n  }\n  if (!obj.email) {\n    message.email = \"אימיל חסר\";\n    valid = false;\n  }\n  if (obj.username && obj.password && obj.email) {\n    if (obj.username.length > RegisterSettings.username.max) {\n      message.username = \"שם המשתמש ארוך מדי\";\n      valid = false;\n    }\n    if (obj.username.length < RegisterSettings.username.min) {\n      message.username = \"שם המשתמש קצר מדי\";\n      valid = false;\n    }\n    if (obj.password.length < RegisterSettings.password.min) {\n      message.password = \"הסיסמה קצרה מדי\";\n      valid = false;\n    }\n    if (obj.password.length > RegisterSettings.password.max) {\n      message.password = \"הסיסמה ארוכה מדי\";\n      valid = false;\n    }\n    if (obj.email.length < RegisterSettings.email.min) {\n      message.email = \"האימל קצר מדי\";\n      valid = false;\n    }\n    if (obj.email.length > RegisterSettings.email.max) {\n      message.email = \"האימל ארוך מדי\";\n      valid = false;\n    }\n    if (obj.firstName) {\n      if (obj.firstName.length < RegisterSettings.firstName.min) {\n        message.firstName = \"שם פרטי קצר  מדי\";\n        valid = false;\n      }\n      if (obj.firstName.length > RegisterSettings.firstName.max) {\n        message.firstName = \"שם פרטי ארוך  מדי\";\n        valid = false;\n      }\n    }\n    if (obj.lastName) {\n      if (obj.lastName.length < RegisterSettings.lastName.min) {\n        message.lastName = \"שם משפחה קצר  מדי\";\n        valid = false;\n      }\n      if (obj.lastName.length > RegisterSettings.lastName.max) {\n        message.lastName = \"שם משפחה ארוך  מדי\";\n        valid = false;\n      }\n    }\n  }\n\n  /* -for server\r\n   new Database().QuerySync(`Select username,email from users where username = '${obj.username}'or email='${obj.email}'`)\r\n   .ValidDB((data:any)=>{\r\n       if(data[0].username == obj.username){\r\n           message.username = \"שם המשתמש כבר קיים\"\r\n           message.status=\"no-valid\";\r\n           valid=false;\r\n       }\r\n       if(data[0].email == obj.email){\r\n           message.email = \"אימייל כבר קיים\";\r\n           message.status=\"no-valid\";\r\n           valid=false;\r\n       }\r\n   })\r\n   */\n\n  return new ResultValid(message, valid);\n}\n_c = RegisterValidation;\nvar _c;\n$RefreshReg$(_c, \"RegisterValidation\");","map":{"version":3,"names":["ResultValid","RegisterSettings","RegisterValidation","obj","valid","message","username","password","email","firstName","lastName","length","max","min","_c","$RefreshReg$"],"sources":["H:/Project/version3/client/src/Server-Client-Shared/Validations/RegisterValidation.ts"],"sourcesContent":["//Client\r\n\r\nimport {ResultValid,RegisterSettings} from \"../../importAll\";\r\n\r\n\r\n/* -for server\r\nimport {ResultValid,RegisterSettings,Database} from \"../../importAll\";\r\n*/\r\n\r\nexport default function RegisterValidation(obj:IRegister){\r\n    let valid = true;\r\n    let message :IRegisterMsgs={\r\n        username  : '',\r\n        password  : '',\r\n        email     : '',\r\n        firstName : '',\r\n        lastName  : '',\r\n    };\r\n\r\n    if(!obj.username )     { message.username = \"שם משתמש חסר\" ; valid=false  }\r\n    if(!obj.password ){ message.password = \"סיסמה חסרה\"   ; valid=false  }\r\n    if(!obj.email )   { message.email    = \"אימיל חסר\"    ; valid=false  }\r\n    if(obj.username && obj.password && obj.email)\r\n    {\r\n        if(obj.username.length   >  RegisterSettings.username.max   )  {message.username = \"שם המשתמש ארוך מדי\" ; valid=false  }\r\n        if(obj.username.length   <  RegisterSettings.username.min   )  {message.username = \"שם המשתמש קצר מדי\"  ; valid=false  }\r\n        if(obj.password.length   <  RegisterSettings.password.min   )  {message.password = \"הסיסמה קצרה מדי\"    ; valid=false  }\r\n        if(obj.password.length   >  RegisterSettings.password.max   )  {message.password = \"הסיסמה ארוכה מדי\"   ; valid=false  }\r\n        if(obj.email.length      <  RegisterSettings.email.min      )  {message.email    = \"האימל קצר מדי\"      ; valid=false  }\r\n        if(obj.email.length      >  RegisterSettings.email.max      )  {message.email    = \"האימל ארוך מדי\"     ; valid=false  }\r\n        if(obj.firstName){\r\n            if(obj.firstName.length  <  RegisterSettings.firstName.min  ) { message.firstName = \"שם פרטי קצר  מדי\"  ; valid=false  }\r\n            if(obj.firstName.length  >  RegisterSettings.firstName.max  ) { message.firstName = \"שם פרטי ארוך  מדי\" ; valid=false  }\r\n        }\r\n        if(obj.lastName){\r\n            if(obj.lastName.length   <  RegisterSettings.lastName.min   )  {message.lastName = \"שם משפחה קצר  מדי\"  ; valid=false  }\r\n            if(obj.lastName.length   >  RegisterSettings.lastName.max   )  {message.lastName = \"שם משפחה ארוך  מדי\" ; valid=false  }\r\n        }\r\n    }\r\n\r\n   \r\n   \r\n    \r\n   \r\n   \r\n   \r\n   /* -for server\r\n    new Database().QuerySync(`Select username,email from users where username = '${obj.username}'or email='${obj.email}'`)\r\n    .ValidDB((data:any)=>{\r\n        if(data[0].username == obj.username){\r\n            message.username = \"שם המשתמש כבר קיים\"\r\n            message.status=\"no-valid\";\r\n            valid=false;\r\n        }\r\n        if(data[0].email == obj.email){\r\n            message.email = \"אימייל כבר קיים\";\r\n            message.status=\"no-valid\";\r\n            valid=false;\r\n        }\r\n    })\r\n    */\r\n\r\n    \r\n    return new ResultValid<IRegisterMsgs>(message,valid);\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}